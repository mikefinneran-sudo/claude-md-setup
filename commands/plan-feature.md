# Plan Feature Command

Plan a new feature implementation using Test-Driven Development (TDD) approach.

## Task

Plan implementation for: {{ARG_1}}

## Instructions

1. **Understanding Phase**:
   - Read relevant existing code
   - Understand current architecture
   - Identify integration points
   - Review similar existing features

2. **Planning Phase**:
   Create a detailed implementation plan with:

   ### Feature Overview
   - What the feature does
   - Who it's for
   - Why it's needed
   - Success criteria

   ### Technical Approach
   - Architecture decisions
   - Technology choices
   - Design patterns to use
   - Dependencies needed

   ### Implementation Steps (TDD)
   For each step, specify:
   1. **Test**: What test to write first
   2. **Implementation**: What code to write
   3. **Refactor**: How to improve the code
   4. **Verify**: How to confirm it works

   ### Files to Create/Modify
   - New files with purpose
   - Existing files to modify
   - Configuration changes

   ### Testing Strategy
   - Unit tests
   - Integration tests
   - E2E tests (if applicable)
   - Manual testing steps

   ### Rollout Plan
   - Feature flags (if applicable)
   - Migration steps
   - Rollback plan

   ### Documentation
   - Code comments needed
   - README updates
   - API documentation
   - User guides (if applicable)

3. **Review Checklist**:
   - [ ] All edge cases considered
   - [ ] Error handling planned
   - [ ] Performance implications assessed
   - [ ] Security considerations addressed
   - [ ] Accessibility requirements met (if UI)
   - [ ] Backward compatibility maintained

## Deliverable

Present the plan and ask:
1. "Does this approach make sense?"
2. "Any concerns or alternative approaches?"
3. "Ready to proceed with implementation?"

## Style

- Clear and structured
- Break complex features into small, testable steps
- Emphasize TDD: Test → Implement → Refactor
- Include code examples where helpful
- Be specific about file names and function names
